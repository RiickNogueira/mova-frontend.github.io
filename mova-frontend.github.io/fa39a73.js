(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{429:function(e,t,n){"use strict";n.r(t);var r=n(22),o=(n(82),n(56),n(14),n(58),n(30),n(29),n(92)),l=n.n(o),c={name:"Index",data:function(){return{isLoading:!1,page:1,pageCount:0,itemsPerPage:12,options:[],countries:[],filter:"",filterOption:{name:"País",api:"https://restcountries.eu/rest/v2/name/",field:"name"},filterOptions:[{name:"Selecione uma opção",api:null,field:null},{name:"Região",api:"https://restcountries.eu/rest/v2/region/",field:"region"},{name:"Capital",api:"https://restcountries.eu/rest/v2/capital/",field:"capital"},{name:"País",api:"https://restcountries.eu/rest/v2/name/",field:"name"},{name:"Código de ligação",api:"https://restcountries.eu/rest/v2/callingcode/",field:"callingCodes"}]}},created:function(){var e=this.$route.query.region;["Africa","Americas","Asia","Europe","Oceania","Polar"].includes(e)&&(this.filterOption=this.filterOptions[1],this.filter=e,this.getCountries()),this.getOptions()},methods:{getOptions:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.options=[],e.isLoading=!0,t.next=5,l.a.get("https://restcountries.eu/rest/v2/all?fields=".concat(e.filterOption.field,"\n\n"));case 5:n=t.sent,e.options=n.data,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:return t.prev=12,e.isLoading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))()},getCountries:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$route.query.region&&e.$router.replace({query:null}),e.filter&&e.filterOption&&""!=e.filterOption){t.next=5;break}alert("Filtro inválido"),t.next=20;break;case 5:return t.prev=5,e.countries=[],e.isLoading=!0,t.next=10,l.a.get("".concat(e.filterOption.api).concat(e.filter));case 10:n=t.sent,e.countries=n.data,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(5),console.log(t.t0);case 17:return t.prev=17,e.isLoading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[5,14,17,20]])})))()},viewer:function(e){this.$router.push({name:"country-id",params:{id:e.alpha3Code}})}}},d=n(39),f=n(46),v=n.n(f),m=n(424),h=n(320),O=n(354),x=n(425),C=n(431),k=n(430),w=n(221),V=n(423),_=n(426),y=n(147),P=n(427),R=n(359),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{bg:""}},[n("v-row",[n("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[n("v-select",{attrs:{label:"Filtrar por",items:e.filterOptions,"item-text":"name","return-object":"",dense:"",outlined:"",rounded:""},on:{change:e.getOptions},model:{value:e.filterOption,callback:function(t){e.filterOption=t},expression:"filterOption"}})],1),e._v(" "),n("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[n("v-autocomplete",{attrs:{label:""+(e.filterOption?e.filterOption.name:"Selecione o tipo do filtro"),items:e.options,"item-text":""+(e.filterOption?e.filterOption.field:""),dense:"",outlined:"",rounded:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),e._v(" "),n("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[n("v-btn",{attrs:{depressed:"",rounded:"",color:"primary"},on:{click:e.getCountries}},[e._v("\n        PESQUISAR\n      ")])],1)],1),e._v(" "),e.countries.length>1?n("div",[n("v-data-iterator",{staticClass:"elevation-1",attrs:{items:e.countries,"hide-default-footer":"",fluid:"",page:e.page,"items-per-page":e.itemsPerPage},on:{"update:page":function(t){e.page=t},"page-count":function(t){e.pageCount=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[n("v-row",e._l(t.items,(function(t,r){return n("v-col",{key:r,attrs:{cols:"12",md:"4"}},[n("v-card",{nativeOn:{click:function(n){return e.viewer(t)}}},[n("v-img",{attrs:{gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.3)",height:"200",src:t.flag}})],1)],1)})),1)]}}],null,!1,1128188902)}),e._v(" "),n("div",{staticClass:"text-center pt-2"},[n("v-pagination",{attrs:{length:e.pageCount},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1):1==e.countries.length?n("div",{staticClass:"pa-2 d-flex justify-center"},[n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-card",{nativeOn:{click:function(t){return e.viewer(e.countries[0])}}},[n("v-img",{attrs:{gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.3)",height:"200",src:e.countries[0].flag}})],1)],1)],1):n("div",[e._v("Nenhum resultado")]),e._v(" "),n("v-overlay",{attrs:{value:e.isLoading}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"80"}})],1)],1)}),[],!1,null,null,null);t.default=component.exports;v()(component,{VAutocomplete:m.a,VBtn:h.a,VCard:O.a,VCol:x.a,VContainer:C.a,VDataIterator:k.a,VImg:w.a,VOverlay:V.a,VPagination:_.a,VProgressCircular:y.a,VRow:P.a,VSelect:R.a})}}]);